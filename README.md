# Wdio

**Требования:**

Для запуска тестов требуется Node.js (12.x)

Перед запуском тестов необходимо создать файл с переменным окружением .env, содержащий данные из описания .env_example

Для запуска Allure сервера требуется Java 8+

**Запуск в Docker:**

!!! Если ранее были тесты запусклись на локальной машине, то перед первым запуском требуется удалить директорию `node_modules`.

При первом запуске будут установлены необходимые зависимости, это может занять некоторое время.

После запуска управление передаётся в контейнер и можно запускать тесты из его командной строки
```bash
docker-compose run --rm wdio
```

**E2E регрессионные тесты:**

Запуск регресса Е2Е на релизе в Google Chrome desktop
```bash
ENV=release npm run chrome_desktop_regression
```

**Тесты на ошибки:**

Запуск прогона на битрикс ошибки на проде
```bash
ENV=release npm run prod_errors
```

**Тесты на заказы:**

Запуск тестов на оформление заказов на релизе
```bash
ENV=release npm run release_offer
```

Запуск тестов на отмену заказов на релизе
```bash
ENV=release npm run cancel_orders
```

**Создание Allure отчета:**

Запуск формирования Allure отчета
```bash
npm run report
```

Поднятие Allure сервера для просмотра отчета
```bash
allure serve
```